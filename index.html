<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">

		<title>Social Music - ACM SDC Presentation</title>

		<meta name="description" content="Slides for the ACM SDC 2014 competition">
		<meta name="author" content="Will Nayes, Jonathan Steffl">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/team-gcc.css" id="theme">

		<!-- Syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>
		<div class="reveal">
			<div class="slides">
				<section>
					<section>
						<div class="logoname">
						  <img class="logo" src="logos/onnothing/text128x120.png"></img>
						  <h1 class="titlename">GroupTune</h1>
					  </div>
						<h4>ACM SDC 2014 Presentation</h4>
						<div class="teaminfo">
	            <p class="teammates">
	              <span class="teammate">Will Nayes</span>
	            	<span class="teammate">Jon Steffl</span>
	            </p>
	            <pre class="teamname monoinline">team gcc</pre>
	          </div>
					</section>

					<section id="destination-select">
						<h2>Select A Topic</h2>
						<div class="destinations">
              <a href="#/first-ui-slide"><img src="img/ui128.png" /></a>
              <a href="#/first-database-slide"><img src="img/database128.png" /></a>
              <a href="#/first-arch-slide"><img src="img/systems128.png" /></a>
	          </div>
					</section>
				</section>

				<section>
					<h2>The Goal</h2>
					<p>Create a web platform that friends can use to
						 <strong>create</strong>, <strong>develop</strong>, and <strong>promote</strong>
						  their own radio station.</p>
				</section>

				<section>
					<h2>Station Creation</h2>
					<p>Listeners pick a memorable <strong>name</strong> to distinguish
					   their channel.</p>
					<p>A <strong>genre mix</strong> is chosen to seed future song selections.</p>

<!--
					<p>

						Users can like or dislike songs which will in turn shape what music the station plays.

						Users can also leave a comment on a song if they so choose. These comments and ratings are available to see by others on the station.

					</p> -->
				</section>

        <section>
        	<h2>Station Development</h2>
					<p>A channel creator promotes listeners into <strong>influencers</strong>,
						 who have say in reviewing songs.</p>
					<p>The currently playing song is given <strong>thumbs up</strong> or
					   <strong>thumbs down</strong> by active influencers to shape future
					   song selection.</p>
<!-- 					<br />
					<span class="big-thumb glyphicon glyphicon-thumbs-up"></span>
					<span class="big-thumb glyphicon glyphicon-thumbs-up"></span> -->
        </section>

				<section>
					<h2>Station Promotion</h2>
					<p>A station can be as public or private as the creator wants.</p>
					<p><strong>Facebook</strong> integration provides listeners means to
						 share channels with their friends.</p>
				</section>

<!-- 				<section>
					<h2>Under the Hood</h2>
					<p>

						By using Spotify and Facebook API's we can lighten the load that would prohibit large amounts of people to use the system. In this way, we can support many users concurrently.

						Since we are using Spotify as our source of music, we need not worry about users trying to download or save songs as Spotify is a streaming service.
					</p>
				</section> -->

				<section data-state="first-ui-slide" id="first-ui-slide">
					<h2>UI Overview</h2>
					<p>
						We wanted our UI to be as intuitive as possible for as many people as possible. As such, we used an approach of "Less is More" and tried to keep the design very clean and simple. As a result, the users only see what they need to. There are no uneeded menus or options taking up screen space.

						This leads to a very enjoyable experiance for the user.
					</p>
				</section>

				<section data-background="#FFFFFF">
					<iframe class="stretch" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="ui-station.html"></iframe>
				</section>

        <!-- Facebook UI sections -->
        <section>
					<section>
						<h2>Facebook Login Dialog</h2>
						<br/>
						<img class="plain-img fb-login-dialog" src="img/facebooklogindialog.png" />
					</section>

					<section>
						<h2>Advantages</h2>
						<br/>
						<ul>
						  <li>Listeners will not need to create separate accounts for our service.</li>
						  <li>Immediate access to listeners' profile pictures and names.</li>
						  <li>We can display the stations liked by a listener's friends.</li>
						</ul>
					</section>
				</section>

				<section>
					<img class="mobile-img" src="img/mobilemockup.png" />
				</section>

				<section data-state="first-database-slide" id="first-database-slide">
					<h2>Database Design</h2>
					<p></p>
				</section>

				<section data-state="first-arch-slide" id="first-arch-slide">
					<h2>System Architecture</h2>
					<ul>
						<li>Server Software</li>
						<li>API Design</li>
						<li>Scalability</li>
					</ul>
				</section>

        <section>
					<section>
						<h2>Software</h2>
						<p>Primary data storage will use a relational database, likely
							 <strong>MySQL</strong>. Volatile information will be accessed
							 using the key-value store <strong>Redis</strong>.</p>
						<p>To support live notifications, chat, and song synchronization, an
							 API powered by <strong>Node.js</strong> using <strong>Socket.IO</strong>
							 will be used.</p>
					</section>

	        <section data-background="#FFFFFF">
	          <!-- <object id="simpleArchDiagram" data="diagram/arch/arch-simple.svg" type="image/svg+xml"></object> -->
	          <img src="diagram/arch/simple-arch.png"></img>
	        </section>
	      </section>

				<section>
					<h2>API Features / Concerns</h2>
					<ul>
						<li>Authentication</li>
						<li>Chat</li>
						<li>Song Sync / Selection</li>
						<li>DMCA Conformity</li>
					</ul>
				</section>

        <!-- Authentication -->
				<section>
					<section>
						<h2>Authentication</h2>
						<p>By tying user authentication to the <strong>Facebook Login API</strong>,
							 the complexity of managing user accounts is limited.</p>
						<p>We still need to manage socket sessions when listeners visit a
						   channel.</p>
					</section>

					<section data-background="#FFFFFF">
						<h2>Establishing a Connection</h2>
						<img class="plain-img" src="diagram/api/auth.png"></img>
<!-- 						<p class="left-p">When a socket connection is requested:</p>
						<ol>
              <li>Verify client authentication.
                 <ul><li>If channel is private and the user is not privileged, deny request.</li></ul>
              </li>
              <li>Create a session identifier for the connection and store in Redis.</li>
              <li>Keep track of the socket's channel association.</li>
              <li>Acknowledge success to the client and return session id, etc.</li>
						</ol> -->
					</section>

					<section>
						<h2>Closing Connections</h2>
						<p>As each listener leaves the channel, the volatile session and
							 socket information will be removed.</p>
						<p>When all sockets for a given channel have been closed, any song
		           selection and sync actions will be canceled.</p>
					</section>
				</section>

        <!-- Chat communication. -->
				<section>
					<section>
						<h2>Chat</h2>
						<p>Listeners will be able to participate in a live chat with other
							 authenticated members.</p>
            <p>TODO INSERT SOME UI HERE ?</p>
					</section>

					<section data-background="#FFFFFF">
						<h2>Sending and Receiving</h2>
						<img class="plain-img" src="diagram/api/chat-send-recv.png"></img>
						<!-- <p>With an open socket connection, a <code>chat-send</code> event is
							 emitted to the server.</p>
						<p>Clients will receive <code>chat-recv</code> events for each message
							 being sent to the group.</p> -->
					</section>

					<section data-background="#FFFFFF">
						<h2>Presence Status</h2>
						<img class="plain-img" src="diagram/api/chat-left-join.png"></img>
						<!-- <p>With an open socket connection, a <code>chat-send</code> event is
							 emitted to the server.</p>
						<p>Clients will receive <code>chat-recv</code> events for each message
							 being sent to the group.</p> -->
					</section>
				</section>

				<!-- Rating broadcasting. -->
				<section>
					<section>
						<h2>Ratings</h2>
						<p>Listeners will also receive reviews from others in their chat feed.</p>
						TODO UI HERE
<!--             <p>These would be sent in a similar manner as chat messages;
               <code>rating-send</code> and <code>rating-recv</code> would be
               communicated with relevant values.</p> -->
					</section>

					<section data-background="#FFFFFF">
						<h2>Rating Events</h2>
						<img class="plain-img" src="diagram/api/rating-send-recv.png"></img>
					</section>
				</section>

				<!-- Song synchronization -->
				<section>
					<section>
						<h2>Song Sync</h2>
						<p>A critical aspect to the experience is keeping all listeners on
							 the <strong>same song</strong> and at approximately the
							 <strong>same listening progress</strong>.</p>
						<p>Having a socket connection facilitates this time sensitive demand.</p>
					</section>

					<section data-background="#FFFFFF">
						<h2>Song Broadcasting</h2>
						<img class="plain-img" src="diagram/api/new-song.png"></img>
<!-- 						<p>A <code>new-song</code> event will be received by clients in
						   preparation for changing music.</p>
						<p class="left-p">Included properties:</p>
						<ul class="compact-ul">
							<li>Song ID</li>
							<li>Playback Start Time</li>
						</ul> -->
					</section>

					<section class="spotify" data-background="rgba(129,183,26,0.5)">
						<h2>Spotify</h2>
            <ul>
            	<li>Existing library of more than 20 million songs - unreasonable
            	    to duplicate on our infrastructure.</li>
            	<li>External architecture handling audio streaming demands.</li>
            	<li>We will initially scrape song genre and other information.</li>
            </ul>
					</section>
				</section>

				<section>
					<section>
						<h2>DMCA Conformity</h2>
						<ul class="checkmark">
            	<li>Listeners react to song selections rather than selecting them.</li>
            	<li>Song selection algorithm accounts for artist and album restrictions.</li>
            	<li>Programs are dynamic and not pre-announced.</li>
            	<li>Spotify provides reliable streaming security and region restrictions.</li>
            </ul>
					</section>
				</section>

				<section>
					<section data-background="#FFFFFF">
						<h2>Scalability</h2>
            <img class="plain-img" src="diagram/arch/node-scaling.png"></img>
					</section>

          <section data-background="#FFFFFF">
            <h2>Load Balancing</h2>
            <img class="plain-img" src="diagram/arch/scaling-load-balance.png"></img>
          </section>

          <section data-background="#FFFFFF">
            <h2>MySQL Sharding</h2>
            <img class="plain-img" src="diagram/arch/mysql-sharding.png"></img>
          </section>
				</section>

				<!-- Song selection -->
<!-- 				<section>
					<section>
						<h2>Song Selection</h2>
						<p>The success of any Internet radio application is dependent on a
							 <strong>supply of music</strong>.</p>
						<p>Thankfully, we have an <strong>external source</strong> for this!</p>
					</section>

					<section class="spotify" data-background="rgba(129,183,26,0.5)">
						<h2>Spotify Benefits</h2>
            <ul>
            	<li>Existing library of more than 20 million songs.</li>
            	<li>External architecture handling audio streaming demands.</li>
            	<li>Ability to search by various properties, including genre.</li>
            </ul>
					</section>

					<section class="spotify" data-background="rgba(129,183,26,0.5)">
						<h2>Spotify Drawbacks</h2>
            <ul>
            	<li>API does not enforce DMCA.</li>
            	<li>We need to rely either repeated requests for Spotify data,
            	    or duplicate their information locally.</li>
            </ul>
					</section>

					<section class="spotify" data-background="rgba(129,183,26,0.5)">
						<h2>Spotify API</h2>
            <p>Spotify will provide an HTTP REST API with searching and playback
            	 capabilities.</p>
					</section>
				</section> -->
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: false,
				history: true,
				center: true,

				theme: 'team-gcc', // available themes are in /css/theme
				transition: 'linear', // default/cube/page/concave/zoom/linear/fade/none

				// Parallax scrolling
				// parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
				// parallaxBackgroundSize: '2100px 900px',

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});


			var reachedFirstSlideofSection = false;
			var firstSlideVarset = function() {
				reachedFirstSlideofSection = true;
			};

			Reveal.addEventListener('first-ui-slide', firstSlideVarset, false);
			Reveal.addEventListener('first-database-slide', firstSlideVarset, false);
			Reveal.addEventListener('first-arch-slide', firstSlideVarset, false);

			Reveal.addEventListener('slidechanged', function(event) {
				if (reachedFirstSlideofSection) {
					reachedFirstSlideofSection = false;

					// Make sure we weren't going back to the first slide.
					if (event.previousSlide.className.indexOf('past') != -1) {
						Reveal.slide(0, 1);
					}
				}
			});
		</script>
	</body>
</html>
